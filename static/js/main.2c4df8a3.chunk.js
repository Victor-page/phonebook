(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{21:function(e,t){},33:function(e,t,n){e.exports={form:"Form_form__1WhxY"}},34:function(e,t,n){e.exports={contact:"ContactItem_contact__A0GNP"}},39:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"fetchContacts",(function(){return x})),n.d(r,"addContact",(function(){return v})),n.d(r,"deleteContact",(function(){return C}));var c={};n.r(c),n.d(c,"getContacts",(function(){return y})),n.d(c,"getFilter",(function(){return w})),n.d(c,"getVisibleContacts",(function(){return k})),n.d(c,"getIsLoadingContacts",(function(){return F})),n.d(c,"getError",(function(){return A}));var a=n(0),o=n.n(a),i=n(16),u=n.n(i),s=(n(39),n(23)),b=n(7),d=n(8),l=n.n(d),j=n(19),O=n(12),f=n.n(O),m=n(4);f.a.defaults.baseURL="https://61b44d0559c6ac0017300fbe.mockapi.io";var h,p,g="/contacts",x=Object(m.c)("contacts/fetchContacts",Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get(g);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),v=Object(m.c)("contacts/addContact",function(){var e=Object(j.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post(g,t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C=Object(m.c)("contacts/deleteContact",function(){var e=Object(j.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete("".concat(g,"/").concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y=function(e){return e.contacts.items},w=function(e){return e.contacts.filter},k=function(e){var t=y(e),n=w(e).toLowerCase();return t.filter((function(e){return e.name.toLowerCase().includes(n)}))},F=function(e){return e.contacts.loading},A=function(e){return e.contacts.error},L=(n(21),n(11)),N=n(33),_=n.n(N),z=n(1),D=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(""),u=Object(s.a)(i,2),d=u[0],l=u[1],j=Object(b.c)(c.getContacts),O=Object(b.b)(),f=Object(L.generate)(),m=Object(L.generate)(),h=function(e){var t=e.currentTarget,n=t.name,r=t.value;switch(n){case"name":o(r);break;case"number":l(r)}};return Object(z.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===n.trim()||""===d.trim())return alert("The fields are mandatory.");var t,c,a=(t=n,c=d,j.find((function(e){var n=e.name,r=e.number;return n===t||r===c})));if(a)return alert(a.name+" is already in contacts.");var i=r.addContact({name:n,number:d});O(i),o(""),l("")},className:_.a.form,children:[Object(z.jsx)("label",{htmlFor:f,children:"Name"}),Object(z.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:n,onChange:h,id:f}),Object(z.jsx)("label",{htmlFor:m,children:"Number"}),Object(z.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:d,onChange:h,id:m}),Object(z.jsx)("button",{type:"submit",children:"Add Contact"})]})},I=n(5),S=n(18),E=n(2),J=Object(m.e)({name:"contacts",initialState:{items:[],loading:!1,filter:"",error:null},reducers:{changeFilter:function(e,t){var n=t.payload;e.filter=n}},extraReducers:(h={},Object(I.a)(h,x.fulfilled,(function(e,t){var n=t.payload;return Object(E.a)(Object(E.a)({},e),{},{items:n,loading:!1,error:null})})),Object(I.a)(h,x.pending,(function(e){return Object(E.a)(Object(E.a)({},e),{},{loading:!0,error:null})})),Object(I.a)(h,x.rejected,(function(e,t){return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:t.error.message})})),Object(I.a)(h,v.fulfilled,(function(e,t){var n=t.payload;return Object(E.a)(Object(E.a)({},e),{},{items:[n].concat(Object(S.a)(e.items)),loading:!1,error:null})})),Object(I.a)(h,v.pending,(function(e){return Object(E.a)(Object(E.a)({},e),{},{loading:!0,error:null})})),Object(I.a)(h,v.rejected,(function(e,t){return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:t.error.message})})),Object(I.a)(h,C.fulfilled,(function(e,t){var n=t.payload;return Object(E.a)(Object(E.a)({},e),{},{items:e.items.filter((function(e){return e.id!==n.id})),loading:!1,error:null})})),Object(I.a)(h,C.pending,(function(e){return Object(E.a)(Object(E.a)({},e),{},{loading:!0,error:null})})),Object(I.a)(h,C.rejected,(function(e,t){return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:t.error.message})})),h)}),P=J.actions,T=J.reducer,Z=function(){var e=Object(b.c)(c.getFilter),t=Object(b.b)(),n=Object(L.generate)();return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("label",{htmlFor:n,children:"Find contacts by name"}),Object(z.jsx)("input",{value:e,onChange:function(e){var n=e.target.value;return t(P.changeFilter(n))},id:n})]})},q=n(34),B=n.n(q),M=function(e){var t=e.name,n=e.number,r=e.onDeleteContact;return Object(z.jsx)("li",{className:B.a.contact,children:Object(z.jsxs)("p",{children:[Object(z.jsx)("span",{children:t}),": ",Object(z.jsx)("span",{children:n}),Object(z.jsx)("button",{type:"button",onClick:r,children:"Delete"})]})})},R=function(){var e=Object(b.c)(c.getVisibleContacts),t=Object(b.b)(),n=Object(b.c)(c.getIsLoadingContacts),o=Object(b.c)(c.getError);Object(a.useEffect)((function(){t(r.fetchContacts())}),[t]);return Object(z.jsxs)(z.Fragment,{children:[n&&Object(z.jsx)("h2",{children:"Loading..."}),o&&!n&&Object(z.jsx)("h2",{children:o}),Object(z.jsx)("ul",{children:e.map((function(e){var n=e.id,c=e.name,a=e.number;return Object(z.jsx)(M,{name:c,number:a,onDeleteContact:function(){return function(e){return t(r.deleteContact(e))}(n)}},n)}))})]})},V=function(){return Object(z.jsxs)("div",{children:[Object(z.jsx)("h1",{children:"Phonebook"}),Object(z.jsx)(D,{}),Object(z.jsx)("h2",{children:"Contacts"}),Object(z.jsx)(Z,{}),Object(z.jsx)(R,{})]})},G=n(9),U=n(3),W=Object(m.b)("counter/Increment"),Y=Object(m.b)("counter/Decrement"),$=Object(m.d)(0,(p={},Object(I.a)(p,W,(function(e,t){return e+t.payload})),Object(I.a)(p,Y,(function(e,t){return e-t.payload})),p)),H=Object(m.d)(15,{}),K=Object(U.b)({value:$,step:H}),Q=Object(S.a)(Object(m.f)({serializableCheck:{ignoredActions:[G.a,G.f,G.b,G.c,G.d,G.e]}}));var X={counter:K,contacts:T},ee=Object(m.a)({reducer:X,middleware:Q,devTools:!1});u.a.render(Object(z.jsx)(o.a.StrictMode,{children:Object(z.jsx)(b.a,{store:ee,children:Object(z.jsx)(V,{})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.2c4df8a3.chunk.js.map