{"version":3,"sources":["components/Form/Form.module.css","components/ContactList/ContactItem/ContactItem.module.css","redux/contacts/contacts-slice.js","components/Form/Form.js","redux/contacts/contacts-operations.js","redux/contacts/contacts-selectors.js","redux/contacts/contacts-reducer.js","components/Filter/Filter.js","components/ContactList/ContactItem/ContactItem.js","components/ContactList/ContactList.js","redux/counter/counter-actions.js","components/Counter/Controls.js","components/Counter/Value.js","redux/counter/counter-selectors.js","components/Counter/Counter.js","App.js","redux/counter/counter-reducer.js","redux/store.js","index.js"],"names":["module","exports","contactsApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","endpoints","builder","fetchContacts","query","providesTags","deleteContact","mutation","id","url","method","invalidatesTags","addContact","contact","body","useFetchContactsQuery","useDeleteContactMutation","useAddContactMutation","Form","useState","name","setName","number","setNumber","isLoading","contacts","data","nameInputId","generate","numberInputId","handleChange","currentTarget","value","onSubmit","event","preventDefault","trim","alert","enteredName","enteredNumber","concurrence","find","className","classes","form","htmlFor","type","pattern","title","required","onChange","disabled","axios","defaults","baseURL","contactsEndpoint","createAsyncThunk","a","get","post","delete","getFilter","state","filter","contactsSlice","createSlice","initialState","items","loading","error","reducers","changeFilter","payload","extraReducers","fulfilled","pending","rejected","action","message","contactsActions","actions","Filter","filterInputId","useSelector","contactsSelectors","dispatch","useDispatch","filterValue","target","ContactItem","isDeleting","onClick","ContactList","isLoadingForTheFirstTime","visibleContacts","normalizedFilter","toLowerCase","includes","getVisibleContacts","map","increment","createAction","decrement","Controls","step","onIncrement","onDecrement","Value","getValue","counter","getStep","Counter","App","valueReducer","createReducer","prevState","stepReducer","counterReducer","combineReducers","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","store","configureStore","reducer","contactsReducer","devTools","process","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6GACAA,EAAOC,QAAU,CAAC,KAAO,qB,mBCAzBD,EAAOC,QAAU,CAAC,QAAU,+B,+MCCfC,EAAcC,YAAU,CACnCC,YAAa,cACbC,UAAWC,YAAe,CACxBC,QAAS,gDAEXC,SAAU,CAAC,WACXC,UAAW,SAACC,GAAD,MAAc,CACvBC,cAAeD,EAAQE,MAAM,CAC3BA,MAAO,8BACPC,aAAc,CAAC,aAEjBC,cAAeJ,EAAQK,SAAS,CAC9BH,MAAO,SAACI,GAAD,MAAS,CAAEC,IAAI,aAAD,OAAeD,GAAME,OAAQ,WAClDC,gBAAiB,CAAC,aAEpBC,WAAYV,EAAQK,SAAS,CAC3BH,MAAO,SAACS,GAAD,MAAc,CAAEJ,IAAK,YAAaC,OAAQ,OAAQI,KAAMD,IAC/DF,gBAAiB,CAAC,iBAMtBI,EAGErB,EAHFqB,sBACAC,EAEEtB,EAFFsB,yBACAC,EACEvB,EADFuB,sB,gCC0EaC,EAvFF,WACX,MAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAA4BF,mBAAS,IAArC,mBAAOG,EAAP,KAAeC,EAAf,KAGA,EAAoCN,IAApC,mBAAOL,EAAP,KAAqBY,EAArB,KAAqBA,UACPC,EAAaV,IAAnBW,KAEFC,EAAcC,qBACdC,EAAgBD,qBAEhBE,EAAe,SAAC,GAAwC,IAAD,IAArCC,cAAiBX,EAAoB,EAApBA,KAAMY,EAAc,EAAdA,MAC7C,OAAQZ,GACN,IAAK,OACHC,EAAQW,GAER,MAEF,IAAK,SACHT,EAAUS,KAqChB,OACE,uBAAMC,SAnBa,SAACC,GAGpB,GAFAA,EAAMC,iBAEc,KAAhBf,EAAKgB,QAAmC,KAAlBd,EAAOc,OAC/B,OAAOC,MAAM,6BAGf,IAZuBC,EAAaC,EAY9BC,GAZiBF,EAYalB,EAZAmB,EAYMjB,EAX1CG,EAASgB,MACP,gBAAGrB,EAAH,EAAGA,KAAME,EAAT,EAASA,OAAT,OAAsBF,IAASkB,GAAehB,IAAWiB,MAW3D,GAAIC,EACF,OAAOH,MAAMG,EAAYpB,KAAO,4BAKlCR,EAAW,CAAEQ,OAAME,WAvBnBD,EAAQ,IACRE,EAAU,KA2BoBmB,UAAWC,IAAQC,KAAjD,UACE,uBAAOC,QAASlB,EAAhB,kBACA,uBACEmB,KAAK,OACL1B,KAAK,OACL2B,QAAQ,yHACRC,MAAM,yIACNC,UAAQ,EACRjB,MAAOZ,EACP8B,SAAUpB,EACVtB,GAAImB,IAEN,uBAAOkB,QAAShB,EAAhB,oBACA,uBACEiB,KAAK,MACL1B,KAAK,SACL2B,QAAQ,yFACRC,MAAM,+FACNC,UAAQ,EACRjB,MAAOV,EACP4B,SAAUpB,EACVtB,GAAIqB,IAEN,wBAAQiB,KAAK,SAASK,SAAU3B,EAAhC,SACGA,EAAY,YAAc,oB,wDCjFnC4B,IAAMC,SAASC,QAAU,8CACzB,I,IAAMC,EAAmB,YAEZpD,EAAgBqD,YAC3B,yBAD2C,sBAE3C,8BAAAC,EAAA,sEACyBL,IAAMM,IAAIH,GADnC,uBACU7B,EADV,EACUA,KADV,kBAESA,GAFT,4CAkBWd,EAAa4C,YACxB,sBADwC,uCAExC,WAAO3C,GAAP,iBAAA4C,EAAA,sEACyBL,IAAMO,KAAKJ,EAAkB1C,GADtD,uBACUa,EADV,EACUA,KADV,kBAESA,GAFT,2CAFwC,uDAsB7BpB,EAAgBkD,YAC3B,yBAD2C,uCAE3C,WAAOhD,GAAP,iBAAAiD,EAAA,sEACyBL,IAAMQ,OAAN,UAAgBL,EAAhB,YAAoC/C,IAD7D,uBACUkB,EADV,EACUA,KADV,kBAESA,GAFT,2CAF2C,uDCzDhCmC,EAAY,SAACC,GAAD,OAAWA,EAAMrC,SAASsC,Q,8BCqB7CC,EAAgBC,YAAY,CAChC7C,KAAM,WACN8C,aAAc,CAAEC,MAAO,GAAIC,SAAS,EAAOL,OAAQ,GAAIM,MAAO,MAC9DC,SAAU,CACRC,aADQ,SACKT,EADL,GAC0B,IAAZU,EAAW,EAAXA,QACpBV,EAAMC,OAASS,IAGnBC,eAAa,mBACVtE,EAAcuE,WAAY,SAACZ,EAAD,OAAUU,EAAV,EAAUA,QAAV,mBAAC,eACvBV,GADsB,IAEzBK,MAAOK,EACPJ,SAAS,EACTC,MAAO,UALE,cAOVlE,EAAcwE,SAAU,SAACb,GAAD,mBAAC,eACrBA,GADoB,IAEvBM,SAAS,EACTC,MAAO,UAVE,cAYVlE,EAAcyE,UAAW,SAACd,EAAOe,GAAR,mBAAC,eACtBf,GADqB,IAExBM,SAAS,EACTC,MAAOQ,EAAOR,MAAMS,aAfX,cAkBVlE,EAAW8D,WAAY,SAACZ,EAAD,OAAUU,EAAV,EAAUA,QAAV,mBAAC,eACpBV,GADmB,IAEtBK,MAAM,CAAEK,GAAH,mBAAeV,EAAMK,QAC1BC,SAAS,EACTC,MAAO,UAtBE,cAwBVzD,EAAW+D,SAAU,SAACb,GAAD,mBAAC,eAClBA,GADiB,IAEpBM,SAAS,EACTC,MAAO,UA3BE,cA6BVzD,EAAWgE,UAAW,SAACd,EAAOe,GAAR,mBAAC,eACnBf,GADkB,IAErBM,SAAS,EACTC,MAAOQ,EAAOR,MAAMS,aAhCX,cAmCVxE,EAAcoE,WAAY,SAACZ,EAAD,OAAUU,EAAV,EAAUA,QAAV,mBAAC,eACvBV,GADsB,IAEzBK,MAAOL,EAAMK,MAAMJ,QAAO,qBAAGvD,KAAgBgE,EAAQhE,MACrD4D,SAAS,EACTC,MAAO,UAvCE,cAyCV/D,EAAcqE,SAAU,SAACb,GAAD,mBAAC,eACrBA,GADoB,IAEvBM,SAAS,EACTC,MAAO,UA5CE,cA8CV/D,EAAcsE,UAAW,SAACd,EAAOe,GAAR,mBAAC,eACtBf,GADqB,IAExBM,SAAS,EACTC,MAAOQ,EAAOR,MAAMS,aAjDX,KA2FFC,EAAkBf,EAAcgB,QAE9BhB,IAAf,QCtGeiB,EAjBA,WACb,IAAMC,EAAgBtD,qBAEhBI,EAAQmD,YAAYC,EAAkBvB,WACtCwB,EAAWC,cAKjB,OACE,qCACE,uBAAOzC,QAASqC,EAAhB,mCACA,uBAAOlD,MAAOA,EAAOkB,SANH,SAAC,GAAD,IAAoBqC,EAApB,EAAGC,OAAUxD,MAAb,OACpBqD,EAASN,EAAgBR,aAAagB,KAKU/E,GAAI0E,Q,iBCkBzCO,EA/BK,SAAC,GAKd,IAJLrE,EAII,EAJJA,KACAE,EAGI,EAHJA,OACAd,EAEI,EAFJA,GAGA,EAAmDQ,IAAnD,mBAAOV,EAAP,KAAmCoF,EAAnC,KAAwBlE,UAExB,OACE,oBAAIkB,UAAWC,IAAQ9B,QAAvB,SACE,8BACE,+BAAOO,IADT,KACuB,+BAAOE,IAC5B,wBACEwB,KAAK,SACL6C,QAAS,kBAAMrF,EAAcE,IAC7B2C,SAAUuC,EAHZ,SAKGA,EAAa,cAAgB,iBC2CzBE,EA5CK,WAMlB,IAAML,EAAcJ,YAAYC,EAAkBvB,WAElD,EAII9C,IAJJ,IACEW,KAAMD,OADR,MACmB,GADnB,EAEaoE,EAFb,EAEErE,UACA6C,EAHF,EAGEA,MAGIyB,EAtBmB,SAACrE,EAAU8D,GACpC,IAAMQ,EAAmBR,EAAYS,cAErC,OAAOvE,EAASsC,QAAO,SAAClD,GAAD,OACrBA,EAAQO,KAAK4E,cAAcC,SAASF,MAkBdG,CAAmBzE,EAAU8D,GASrD,OACE,qCACGM,GAA4B,4CAC5BxB,IAAUwB,GAA4B,6BAAKxB,IAC3CyB,GACC,6BACGA,EAAgBK,KAAI,gBAAG3F,EAAH,EAAGA,GAAIY,EAAP,EAAOA,KAAME,EAAb,EAAaA,OAAb,OACnB,cAAC,EAAD,CAEEF,KAAMA,EACNE,OAAQA,EACRd,GAAIA,GAHCA,YCjDN4F,EAAYC,YAAa,qBACzBC,EAAYD,YAAa,qBCQvBE,EAXE,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,YAAaC,EAAtB,EAAsBA,YAAtB,OACf,sBAAKhE,UAAU,oBAAf,UACE,yBAAQI,KAAK,SAAS6C,QAASc,EAA/B,0BACgBD,KAEhB,yBAAQ1D,KAAK,SAAS6C,QAASe,EAA/B,0BACgBF,SCJLG,EAFD,SAAC,GAAD,IAAG3E,EAAH,EAAGA,MAAH,OAAe,sBAAMU,UAAU,iBAAhB,SAAkCV,KCAlD4E,G,MAAW,SAAC9C,GAAD,OAAWA,EAAM+C,QAAQ7E,QACpC8E,EAAU,SAAChD,GAAD,OAAWA,EAAM+C,QAAQL,MCsBjCO,EAhBC,WACd,IAAM/E,EAAQmD,YAAYyB,GACpBJ,EAAOrB,YAAY2B,GACnBzB,EAAWC,cAKjB,OACE,sBAAK5C,UAAU,UAAf,UACE,cAAC,EAAD,CAAOV,MAAOA,IACd,cAAC,EAAD,CAAUwE,KAAMA,EAAMC,YANR,kBAAMpB,EAASL,EAAkBwB,KAMDE,YALhC,kBAAMrB,EAASL,EAAkBwB,WCMtCQ,EAdH,kBACV,gCACE,2CACA,cAAC,EAAD,IAEA,0CACA,cAAC,EAAD,IAEA,cAAC,EAAD,IAEA,cAAC,EAAD,Q,gBCXEC,GAAeC,YAAc,GAAD,mBAC/Bd,GAAY,SAACe,EAAD,UAA4BA,EAA5B,EAAc3C,WADK,cAE/B8B,GAAY,SAACa,EAAD,UAA4BA,EAA5B,EAAc3C,WAFK,IAK5B4C,GAAcF,YAAc,GAAI,IAOvBG,GALQC,aAAgB,CACrCtF,MAAOiF,GACPT,KAAMY,KCAJG,GAAU,sBACTC,YAAqB,CACtBC,kBAAmB,CACjBC,eAAgB,CAACC,IAAOC,IAAWC,IAAOC,IAASC,IAAOC,SAHlD,CAMZtI,EAAY6H,aAqBCU,GAdDC,YAAe,CAC3BC,QAAQ,aACNtB,QAASQ,GACT5F,SAAU2G,GACT1I,EAAYE,YAAcF,EAAYyI,SAEzCZ,cACAc,UAAUC,ICvBZC,IAASC,OACP,cAAC,IAAMC,WAAP,UAGE,cAAC,IAAD,CAAUR,MAAOA,GAAjB,SAEE,cAAC,EAAD,QAMJS,SAASC,eAAe,W","file":"static/js/main.6db4d19c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__1WhxY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contact\":\"ContactItem_contact__A0GNP\"};","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\r\n\r\nexport const contactsApi = createApi({\r\n  reducerPath: 'contactsApi',\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: 'https://61b44d0559c6ac0017300fbe.mockapi.io',\r\n  }),\r\n  tagTypes: ['Contact'],\r\n  endpoints: (builder) => ({\r\n    fetchContacts: builder.query({\r\n      query: () => `/contacts`,\r\n      providesTags: ['Contact'],\r\n    }),\r\n    deleteContact: builder.mutation({\r\n      query: (id) => ({ url: `/contacts/${id}`, method: 'DELETE' }),\r\n      invalidatesTags: ['Contact'],\r\n    }),\r\n    addContact: builder.mutation({\r\n      query: (contact) => ({ url: '/contacts', method: 'POST', body: contact }),\r\n      invalidatesTags: ['Contact'],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useFetchContactsQuery,\r\n  useDeleteContactMutation,\r\n  useAddContactMutation,\r\n} = contactsApi;\r\n","import { useState } from 'react';\r\n// import {\r\n//   // useSelector,\r\n//   //  useDispatch\r\n// } from 'react-redux';\r\n// import {\r\n//   // contactsOperations,\r\n//   // contactsSelectors,\r\n// } from 'redux/contacts';\r\nimport { useAddContactMutation } from 'redux/contacts/contacts-slice';\r\nimport { generate } from 'shortid';\r\nimport classes from './Form.module.css';\r\nimport { useFetchContactsQuery } from 'redux/contacts/contacts-slice';\r\n\r\nconst Form = () => {\r\n  const [name, setName] = useState('');\r\n  const [number, setNumber] = useState('');\r\n  // const contacts = useSelector(contactsSelectors.getContacts);\r\n  // const dispatch = useDispatch();\r\n  const [addContact, { isLoading }] = useAddContactMutation();\r\n  const { data: contacts } = useFetchContactsQuery();\r\n\r\n  const nameInputId = generate();\r\n  const numberInputId = generate();\r\n\r\n  const handleChange = ({ currentTarget: { name, value } }) => {\r\n    switch (name) {\r\n      case 'name':\r\n        setName(value);\r\n\r\n        break;\r\n\r\n      case 'number':\r\n        setNumber(value);\r\n\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const reset = () => {\r\n    setName('');\r\n    setNumber('');\r\n  };\r\n\r\n  const findConcurrence = (enteredName, enteredNumber) =>\r\n    contacts.find(\r\n      ({ name, number }) => name === enteredName || number === enteredNumber\r\n    );\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (name.trim() === '' || number.trim() === '') {\r\n      return alert('The fields are mandatory.');\r\n    }\r\n\r\n    const concurrence = findConcurrence(name, number);\r\n    if (concurrence) {\r\n      return alert(concurrence.name + ' is already in contacts.');\r\n    }\r\n\r\n    // const addAction = contactsOperations.addContact({ name, number });\r\n    // dispatch(addAction);\r\n    addContact({ name, number });\r\n    reset();\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className={classes.form}>\r\n      <label htmlFor={nameInputId}>Name</label>\r\n      <input\r\n        type=\"text\"\r\n        name=\"name\"\r\n        pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n        title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\r\n        required\r\n        value={name}\r\n        onChange={handleChange}\r\n        id={nameInputId}\r\n      />\r\n      <label htmlFor={numberInputId}>Number</label>\r\n      <input\r\n        type=\"tel\"\r\n        name=\"number\"\r\n        pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n        title=\"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +\"\r\n        required\r\n        value={number}\r\n        onChange={handleChange}\r\n        id={numberInputId}\r\n      />\r\n      <button type=\"submit\" disabled={isLoading}>\r\n        {isLoading ? 'Adding...' : 'Add Contact'}\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import axios from 'axios';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n// import {\r\n//   addContactRequest,\r\n//   addContactSuccess,\r\n//   addContactError,\r\n//   deleteContactRequest,\r\n//   deleteContactSuccess,\r\n//   deleteContactError,\r\n//   fetchContactsRequest,\r\n//   fetchContactsSuccess,\r\n//   fetchContactsError,\r\n// } from './contacts-actions';\r\n\r\naxios.defaults.baseURL = 'https://61b44d0559c6ac0017300fbe.mockapi.io';\r\nconst contactsEndpoint = '/contacts';\r\n\r\nexport const fetchContacts = createAsyncThunk(\r\n  'contacts/fetchContacts',\r\n  async () => {\r\n    const { data } = await axios.get(contactsEndpoint);\r\n    return data;\r\n  }\r\n);\r\n\r\n// export const fetchContacts = () => (dispatch) => {\r\n//   dispatch(fetchContactsRequest());\r\n//   axios\r\n//     .get(contactsEndpoint)\r\n//     .then(({ data }) => {\r\n//       dispatch(fetchContactsSuccess(data));\r\n//     })\r\n//     .catch(({ message }) => {\r\n//       dispatch(fetchContactsError(message));\r\n//     });\r\n// };\r\n\r\nexport const addContact = createAsyncThunk(\r\n  'contacts/addContact',\r\n  async (contact) => {\r\n    const { data } = await axios.post(contactsEndpoint, contact);\r\n    return data;\r\n  }\r\n);\r\n\r\n// export const addContact = (name, number) => (dispatch) => {\r\n//   const contact = { name, number };\r\n\r\n//   dispatch(addContactRequest());\r\n//   axios\r\n//     .post(contactsEndpoint, contact)\r\n//     .then(({ data }) => {\r\n//       dispatch(addContactSuccess(data));\r\n//     })\r\n//     .catch(({ message }) => {\r\n//       dispatch(addContactError(message));\r\n//     });\r\n// };\r\n\r\nexport const deleteContact = createAsyncThunk(\r\n  'contacts/deleteContact',\r\n  async (id) => {\r\n    const { data } = await axios.delete(`${contactsEndpoint}/${id}`);\r\n    return data;\r\n  }\r\n);\r\n\r\n// export const deleteContact = (id) => (dispatch) => {\r\n//   dispatch(deleteContactRequest());\r\n//   axios\r\n//     .delete(`${contactsEndpoint}/${id}`)\r\n//     .then(({ data }) => {\r\n//       dispatch(deleteContactSuccess(data.id));\r\n//     })\r\n//     .catch(({ message }) => {\r\n//       dispatch(deleteContactError(message));\r\n//     });\r\n// };\r\n","// export const getContacts = (state) => state.contacts.items;\r\n\r\nexport const getFilter = (state) => state.contacts.filter;\r\n\r\n// export const getVisibleContacts = (state) => {\r\n//   const allContacts = getContacts(state);\r\n//   const filter = getFilter(state);\r\n//   const normalizedFilter = filter.toLowerCase();\r\n\r\n//   return allContacts.filter((contact) =>\r\n//     contact.name.toLowerCase().includes(normalizedFilter)\r\n//   );\r\n// };\r\n\r\n// export const getIsLoadingContacts = (state) => state.contacts.loading;\r\n\r\n// export const getError = (state) => state.contacts.error;\r\n","import {\r\n  // createReducer,\r\n  // combineReducers,\r\n  createSlice,\r\n} from '@reduxjs/toolkit';\r\nimport // changeFilter,\r\n// addContactRequest,\r\n// addContactSuccess,\r\n// addContactError,\r\n// deleteContactRequest,\r\n// deleteContactSuccess,\r\n// deleteContactError,\r\n// fetchContactsRequest,\r\n// fetchContactsSuccess,\r\n// fetchContactsError,\r\n'./contacts-actions';\r\n\r\nimport {\r\n  fetchContacts,\r\n  addContact,\r\n  deleteContact,\r\n} from './contacts-operations';\r\n\r\nconst contactsSlice = createSlice({\r\n  name: 'contacts',\r\n  initialState: { items: [], loading: false, filter: '', error: null },\r\n  reducers: {\r\n    changeFilter(state, { payload }) {\r\n      state.filter = payload;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchContacts.fulfilled]: (state, { payload }) => ({\r\n      ...state,\r\n      items: payload,\r\n      loading: false,\r\n      error: null,\r\n    }),\r\n    [fetchContacts.pending]: (state) => ({\r\n      ...state,\r\n      loading: true,\r\n      error: null,\r\n    }),\r\n    [fetchContacts.rejected]: (state, action) => ({\r\n      ...state,\r\n      loading: false,\r\n      error: action.error.message,\r\n    }),\r\n\r\n    [addContact.fulfilled]: (state, { payload }) => ({\r\n      ...state,\r\n      items: [payload, ...state.items],\r\n      loading: false,\r\n      error: null,\r\n    }),\r\n    [addContact.pending]: (state) => ({\r\n      ...state,\r\n      loading: true,\r\n      error: null,\r\n    }),\r\n    [addContact.rejected]: (state, action) => ({\r\n      ...state,\r\n      loading: false,\r\n      error: action.error.message,\r\n    }),\r\n\r\n    [deleteContact.fulfilled]: (state, { payload }) => ({\r\n      ...state,\r\n      items: state.items.filter(({ id }) => id !== payload.id),\r\n      loading: false,\r\n      error: null,\r\n    }),\r\n    [deleteContact.pending]: (state) => ({\r\n      ...state,\r\n      loading: true,\r\n      error: null,\r\n    }),\r\n    [deleteContact.rejected]: (state, action) => ({\r\n      ...state,\r\n      loading: false,\r\n      error: action.error.message,\r\n    }),\r\n  },\r\n});\r\n\r\n// const items = createReducer([], {\r\n//   // [fetchContacts.fulfilled]: (_, { payload }) => payload,\r\n//   // [addContact.fulfilled]: (prevState, { payload }) => [payload, ...prevState],\r\n//   // [deleteContact.fulfilled]: (prevState, { payload }) =>\r\n//   //   prevState.filter(({ id }) => id !== payload.id),\r\n// });\r\n\r\n// const loading = createReducer(false, {\r\n//   // [addContact.pending]: () => true,\r\n//   // [addContact.fulfilled]: () => false,\r\n//   // [addContact.rejected]: () => false,\r\n//   // [deleteContact.pending]: () => true,\r\n//   // [deleteContact.fulfilled]: () => false,\r\n//   // [deleteContact.rejected]: () => false,\r\n//   // [fetchContacts.pending]: () => true,\r\n//   // [fetchContacts.fulfilled]: () => false,\r\n//   // [fetchContacts.rejected]: () => false,\r\n// });\r\n\r\n// const filter = createReducer('', {\r\n//   [changeFilter]: (_, { payload }) => payload,\r\n// });\r\n\r\n// const error = createReducer(null, {\r\n//   // [addContact.rejected]: (_, { payload }) => payload,\r\n//   // [deleteContact.rejected]: (_, { payload }) => payload,\r\n//   // [fetchContacts.rejected]: (_, { payload }) => payload,\r\n//   // [addContact.pending]: () => null,\r\n//   // [addContact.fulfilled]: () => null,\r\n//   // [deleteContact.pending]: () => null,\r\n//   // [deleteContact.fulfilled]: () => null,\r\n//   // [fetchContacts.pending]: () => null,\r\n//   // [fetchContacts.fulfilled]: () => null,\r\n// });\r\n\r\n// export default combineReducers({ items, filter, loading, error });\r\n\r\nexport const contactsActions = contactsSlice.actions;\r\n\r\nexport default contactsSlice.reducer;\r\n","import { generate } from 'shortid';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { contactsSelectors } from 'redux/contacts';\r\nimport { contactsActions } from 'redux/contacts/contacts-reducer';\r\n\r\nconst Filter = () => {\r\n  const filterInputId = generate();\r\n\r\n  const value = useSelector(contactsSelectors.getFilter);\r\n  const dispatch = useDispatch();\r\n\r\n  const changeHandler = ({ target: { value: filterValue } }) =>\r\n    dispatch(contactsActions.changeFilter(filterValue));\r\n\r\n  return (\r\n    <>\r\n      <label htmlFor={filterInputId}>Find contacts by name</label>\r\n      <input value={value} onChange={changeHandler} id={filterInputId} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import PropTypes from 'prop-types';\r\nimport { useDeleteContactMutation } from 'redux/contacts/contacts-slice';\r\nimport classes from './ContactItem.module.css';\r\n\r\nconst ContactItem = ({\r\n  name,\r\n  number,\r\n  id,\r\n  // onDeleteContact\r\n}) => {\r\n  const [deleteContact, { isLoading: isDeleting }] = useDeleteContactMutation();\r\n\r\n  return (\r\n    <li className={classes.contact}>\r\n      <p>\r\n        <span>{name}</span>: <span>{number}</span>\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => deleteContact(id)}\r\n          disabled={isDeleting}\r\n        >\r\n          {isDeleting ? 'Deleting...' : 'Delete'}\r\n        </button>\r\n      </p>\r\n    </li>\r\n  );\r\n};\r\n\r\nContactItem.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  number: PropTypes.string.isRequired,\r\n  // onDeleteContact: PropTypes.func.isRequired,\r\n  id: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ContactItem;\r\n","// import { useEffect } from 'react';\r\nimport {\r\n  useSelector,\r\n  // useDispatch\r\n} from 'react-redux';\r\nimport {\r\n  //  contactsOperations,\r\n  contactsSelectors,\r\n} from 'redux/contacts';\r\nimport ContactItem from './ContactItem';\r\nimport { useFetchContactsQuery } from 'redux/contacts/contacts-slice';\r\n\r\nconst getVisibleContacts = (contacts, filterValue) => {\r\n  const normalizedFilter = filterValue.toLowerCase();\r\n\r\n  return contacts.filter((contact) =>\r\n    contact.name.toLowerCase().includes(normalizedFilter)\r\n  );\r\n};\r\n\r\nconst ContactList = () => {\r\n  // const contacts = useSelector(contactsSelectors.getVisibleContacts);\r\n  // const dispatch = useDispatch();\r\n  // const isLoadingContacts = useSelector(contactsSelectors.getIsLoadingContacts);\r\n\r\n  // const error = useSelector(contactsSelectors.getError);\r\n  const filterValue = useSelector(contactsSelectors.getFilter);\r\n\r\n  const {\r\n    data: contacts = [],\r\n    isLoading: isLoadingForTheFirstTime,\r\n    error,\r\n  } = useFetchContactsQuery();\r\n\r\n  const visibleContacts = getVisibleContacts(contacts, filterValue);\r\n\r\n  // useEffect(() => {\r\n  //   dispatch(contactsOperations.fetchContacts());\r\n  // }, [dispatch]);\r\n\r\n  // const deleteContactHandler = (id) =>\r\n  //   dispatch(contactsOperations.deleteContact(id));\r\n\r\n  return (\r\n    <>\r\n      {isLoadingForTheFirstTime && <h2>Loading...</h2>}\r\n      {error && !isLoadingForTheFirstTime && <h2>{error}</h2>}\r\n      {visibleContacts && (\r\n        <ul>\r\n          {visibleContacts.map(({ id, name, number }) => (\r\n            <ContactItem\r\n              key={id}\r\n              name={name}\r\n              number={number}\r\n              id={id}\r\n              // onDeleteContact={() => deleteContact(id)}\r\n            />\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ContactList;\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const increment = createAction('counter/Increment');\r\nexport const decrement = createAction('counter/Decrement');\r\n","const Controls = ({ step, onIncrement, onDecrement }) => (\r\n  <div className=\"Counter__controls\">\r\n    <button type=\"button\" onClick={onIncrement}>\r\n      Increase for {step}\r\n    </button>\r\n    <button type=\"button\" onClick={onDecrement}>\r\n      Decrease for {step}\r\n    </button>\r\n  </div>\r\n);\r\n\r\nexport default Controls;\r\n","const Value = ({ value }) => <span className=\"Counter__value\">{value}</span>;\r\n\r\nexport default Value;\r\n","export const getValue = (state) => state.counter.value;\r\nexport const getStep = (state) => state.counter.step;\r\n","import { useSelector, useDispatch } from 'react-redux';\r\nimport * as actions from 'redux/counter/counter-actions';\r\nimport Controls from './Controls';\r\nimport Value from './Value';\r\nimport './Counter.css';\r\nimport { getValue, getStep } from 'redux/counter/counter-selectors';\r\n\r\nconst Counter = () => {\r\n  const value = useSelector(getValue);\r\n  const step = useSelector(getStep);\r\n  const dispatch = useDispatch();\r\n\r\n  const increment = () => dispatch(actions.increment(step));\r\n  const decrement = () => dispatch(actions.decrement(step));\r\n\r\n  return (\r\n    <div className=\"Counter\">\r\n      <Value value={value} />\r\n      <Controls step={step} onIncrement={increment} onDecrement={decrement} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Counter;\r\n","import Form from 'components/Form';\r\nimport Filter from 'components/Filter';\r\nimport ContactList from 'components/ContactList';\r\nimport Counter from 'components/Counter';\r\n\r\nconst App = () => (\r\n  <div>\r\n    <h1>Phonebook</h1>\r\n    <Form />\r\n\r\n    <h2>Contacts</h2>\r\n    <Filter />\r\n\r\n    <ContactList />\r\n\r\n    <Counter />\r\n  </div>\r\n);\r\n\r\nexport default App;\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport { increment, decrement } from './counter-actions';\r\n\r\nconst valueReducer = createReducer(0, {\r\n  [increment]: (prevState, { payload }) => prevState + payload,\r\n  [decrement]: (prevState, { payload }) => prevState - payload,\r\n});\r\n\r\nconst stepReducer = createReducer(15, {});\r\n\r\nconst counterReducer = combineReducers({\r\n  value: valueReducer,\r\n  step: stepReducer,\r\n});\r\n\r\nexport default counterReducer;\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport {\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport counterReducer from './counter/counter-reducer';\r\nimport contactsReducer from './contacts/contacts-reducer';\r\nimport { contactsApi } from 'redux/contacts/contacts-slice';\r\n\r\nlet middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  contactsApi.middleware,\r\n];\r\n\r\n// if (process.env.NODE_ENV === 'development') {\r\n//   middleware = [...middleware, require('redux-logger').createLogger()];\r\n// }\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    counter: counterReducer,\r\n    contacts: contactsReducer,\r\n    [contactsApi.reducerPath]: contactsApi.reducer,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\n// const persistor = persistStore(store);\r\n\r\n// const persistedStore = { store, persistor };\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/base.css';\r\nimport App from './App';\r\n// import ContactsContext from 'context/ContactsProvider';\r\n// import FilterContext from 'context/FilterProvider';\r\nimport store from 'redux/store';\r\nimport { Provider } from 'react-redux';\r\n// import { PersistGate } from 'redux-persist/integration/react';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    {/* <ContactsContext>\r\n      <FilterContext> */}\r\n    <Provider store={store}>\r\n      {/* <PersistGate loading={<p>Loading...</p>} persistor={store.persistor}> */}\r\n      <App />\r\n      {/* </PersistGate> */}\r\n    </Provider>\r\n    {/* </FilterContext>\r\n    </ContactsContext> */}\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}