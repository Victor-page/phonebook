(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{31:function(t,e,n){t.exports={form:"Form_form__Rio11"}},32:function(t,e,n){t.exports={contact:"ContactItem_contact__pVjRq"}},37:function(t,e,n){},72:function(t,e,n){"use strict";n.r(e);var c={};n.r(c),n.d(c,"changeFilter",(function(){return m}));var r={};n.r(r),n.d(r,"fetchContacts",(function(){return w})),n.d(r,"addContact",(function(){return F})),n.d(r,"deleteContact",(function(){return k}));var a={};n.r(a),n.d(a,"getContacts",(function(){return A})),n.d(a,"getFilter",(function(){return L})),n.d(a,"getVisibleContacts",(function(){return _})),n.d(a,"getIsLoadingContacts",(function(){return z})),n.d(a,"getError",(function(){return D}));var u=n(0),o=n.n(u),i=n(15),s=n.n(i),b=(n(37),n(21)),l=n(6),d=n(7),j=n.n(d),f=n(18),O=n(11),p=n.n(O),h=n(3),m=Object(h.b)("contacts/changeFilter");p.a.defaults.baseURL="https://61b44d0559c6ac0017300fbe.mockapi.io";var g,x,v,C,y="/contacts",w=Object(h.c)("contacts/fetchContacts",Object(f.a)(j.a.mark((function t(){var e,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get(y);case 2:return e=t.sent,n=e.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))),F=Object(h.c)("contacts/addContact",function(){var t=Object(f.a)(j.a.mark((function t(e,n){var c,r,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={name:e,number:n},t.next=3,p.a.post(y,c);case 3:return r=t.sent,a=r.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),k=Object(h.c)("contacts/deleteContact",function(){var t=Object(f.a)(j.a.mark((function t(e){var n,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=p.a.delete("".concat(y,"/").concat(e)),c=n.data,t.abrupt("return",c);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),A=function(t){return t.contacts.items},L=function(t){return t.contacts.filter},_=function(t){var e=A(t),n=L(t).toLowerCase();return e.filter((function(t){return t.name.toLowerCase().includes(n)}))},z=function(t){return t.contacts.loading},D=function(t){return t.contacts.error},I=n(10),N=n(31),E=n.n(N),S=n(1),q=function(){var t=Object(u.useState)(""),e=Object(b.a)(t,2),n=e[0],c=e[1],o=Object(u.useState)(""),i=Object(b.a)(o,2),s=i[0],d=i[1],j=Object(l.c)(a.getContacts),f=Object(l.b)(),O=Object(I.generate)(),p=Object(I.generate)(),h=function(t){var e=t.currentTarget,n=e.name,r=e.value;switch(n){case"name":c(r);break;case"number":d(r)}};return Object(S.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),""===n.trim()||""===s.trim())return alert("The fields are mandatory.");var e,a,u=(e=n,a=s,j.find((function(t){var n=t.name,c=t.number;return n===e||c===a})));if(u)return alert(u.name+" is already in contacts.");var o=r.addContact(n,s);f(o),c(""),d("")},className:E.a.form,children:[Object(S.jsx)("label",{htmlFor:O,children:"Name"}),Object(S.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:n,onChange:h,id:O}),Object(S.jsx)("label",{htmlFor:p,children:"Number"}),Object(S.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:s,onChange:h,id:p}),Object(S.jsx)("button",{type:"submit",children:"Add Contact"})]})},J=function(){var t=Object(l.c)(a.getFilter),e=Object(l.b)(),n=Object(I.generate)();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("label",{htmlFor:n,children:"Find contacts by name"}),Object(S.jsx)("input",{value:t,onChange:function(t){var n=t.target.value;return e(c.changeFilter(n))},id:n})]})},R=n(32),T=n.n(R),V=function(t){var e=t.name,n=t.number,c=t.onDeleteContact;return Object(S.jsx)("li",{className:T.a.contact,children:Object(S.jsxs)("p",{children:[Object(S.jsx)("span",{children:e}),": ",Object(S.jsx)("span",{children:n}),Object(S.jsx)("button",{type:"button",onClick:c,children:"Delete"})]})})},Z=function(){var t=Object(l.c)(a.getVisibleContacts),e=Object(l.b)(),n=Object(l.c)(a.getIsLoadingContacts),c=Object(l.c)(a.getError);Object(u.useEffect)((function(){e(r.fetchContacts())}),[e]);return Object(S.jsxs)(S.Fragment,{children:[n&&Object(S.jsx)("h2",{children:"Loading..."}),c&&!n&&Object(S.jsx)("h2",{children:c}),Object(S.jsx)("ul",{children:t.map((function(t){var n=t.id,c=t.name,a=t.number;return Object(S.jsx)(V,{name:c,number:a,onDeleteContact:function(){return function(t){return e(r.deleteContact(t))}(n)}},n)}))})]})},B=function(){return Object(S.jsxs)("div",{children:[Object(S.jsx)("h1",{children:"Phonebook"}),Object(S.jsx)(q,{}),Object(S.jsx)("h2",{children:"Contacts"}),Object(S.jsx)(J,{}),Object(S.jsx)(Z,{})]})},M=n(17),P=n(4),U=n(8),$=n(2),G=Object(h.b)("counter/Increment"),H=Object(h.b)("counter/Decrement"),K=Object(h.d)(0,(g={},Object($.a)(g,G,(function(t,e){return t+e.payload})),Object($.a)(g,H,(function(t,e){return t-e.payload})),g)),Q=Object(h.d)(15,{}),W=Object(P.b)({value:K,step:Q}),X=Object(h.d)([],(x={},Object($.a)(x,w.fulfilled,(function(t,e){return e.payload})),Object($.a)(x,F.fulfilled,(function(t,e){return[e.payload].concat(Object(M.a)(t))})),Object($.a)(x,k.fulfilled,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),x)),Y=Object(h.d)(!1,(v={},Object($.a)(v,F.pending,(function(){return!0})),Object($.a)(v,F.fulfilled,(function(){return!1})),Object($.a)(v,F.rejected,(function(){return!1})),Object($.a)(v,k.pending,(function(){return!0})),Object($.a)(v,k.fulfilled,(function(){return!1})),Object($.a)(v,k.rejected,(function(){return!1})),Object($.a)(v,w.pending,(function(){return!0})),Object($.a)(v,w.fulfilled,(function(){return!1})),Object($.a)(v,w.rejected,(function(){return!1})),v)),tt=Object(h.d)("",Object($.a)({},m,(function(t,e){return e.payload}))),et=Object(h.d)(null,(C={},Object($.a)(C,F.rejected,(function(t,e){return e.payload})),Object($.a)(C,k.rejected,(function(t,e){return e.payload})),Object($.a)(C,w.rejected,(function(t,e){return e.payload})),Object($.a)(C,F.pending,(function(){return null})),Object($.a)(C,F.fulfilled,(function(){return null})),Object($.a)(C,k.pending,(function(){return null})),Object($.a)(C,k.fulfilled,(function(){return null})),Object($.a)(C,w.pending,(function(){return null})),Object($.a)(C,w.fulfilled,(function(){return null})),C)),nt=Object(P.b)({items:X,filter:tt,loading:Y,error:et}),ct=Object(M.a)(Object(h.e)({serializableCheck:{ignoredActions:[U.a,U.f,U.b,U.c,U.d,U.e]}})),rt=Object(P.b)({counter:W,contacts:nt}),at=Object(h.a)({reducer:rt,middleware:ct,devTools:!1});s.a.render(Object(S.jsx)(o.a.StrictMode,{children:Object(S.jsx)(l.a,{store:at,children:Object(S.jsx)(B,{})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.678f6a0c.chunk.js.map